syntax = "proto3";
package common;

option go_package = "github.com/Dev-Siri/wavelength/server/proto/commonpb";

// Contains all data representations.
enum VideoType {
  VIDEO_TYPE_UNSPECIFIED = 0;
  VIDEO_TYPE_TRACK = 1;
  VIDEO_TYPE_UVIDEO = 2;
}

message Playlist {
  string playlist_id = 1;
  string name = 2;
  string author_google_email = 3;
  string author_name = 4;
  string author_image = 5;
  
  optional bool is_public = 6; 
  optional string cover_image = 7;
}

message PlaylistTrack {
  string playlist_track_id = 1;
  string title = 2;
  string thumbnail = 3;
  uint32 position_in_playlist = 4;
  optional bool is_explicit = 5;
  uint64 duration = 7;
  string video_id = 8;
  VideoType video_type = 9;
  string playlist_id = 10;

  repeated EmbeddedArtist artists = 11;
  optional EmbeddedAlbum album = 12;
}

message TracksLength {
  uint64 song_count = 1;
  uint64 song_duration_second = 2;
}

message LikedTrack {
  string like_id = 1;
  string email = 2;
  string title = 3;
  string thumbnail = 4;
  optional bool is_explicit = 5;
  uint64 duration = 6;
  string video_id = 7;
  VideoType video_type = 8;
  
  repeated EmbeddedArtist artists = 9;
  optional EmbeddedAlbum album = 10;
}

message SuggestedLink {
  string thumbnail = 1;
  string title = 2;
  string subtitle = 3;
  string browse_id = 4;
  string type = 6;
}

// Embedded types are made to be small and use as a part of a larger type.
// These do not contain much information about their respective representations.
message EmbeddedAlbum {
  string browse_id = 1;
  string title = 2;
}

message EmbeddedArtist {
  string browse_id = 1;
  string title = 2;
}

message QuickPick {
  string video_id = 1;
  string title = 2;
  string thumbnail = 3;
  repeated EmbeddedArtist artists = 4;
  optional EmbeddedAlbum album = 5;
}

message MusicTrackStats {
  uint64 view_count = 1;
  uint64 like_count = 2;
  uint64 comment_count = 3;
}

message YouTubeVideo {
  string video_id = 1;
  string title = 2;
  string thumbnail = 3;
  string author = 4;
  string author_channel_id = 5;
}

message AlbumTrack {
  string video_id = 1;
  string title = 2;
  uint64 duration = 3;
  uint32 position_in_album = 4;

  optional bool is_explicit = 5;
}

enum AlbumType {
  ALBUM_TYPE_UNSPECIFIED = 0;
  ALBUM_TYPE_ALBUM = 1;
  ALBUM_TYPE_SINGLE = 2;
  ALBUM_TYPE_EP = 3;
}

message Album {
  string title = 1;
  AlbumType album_type = 2;
  string release = 3;
  string cover = 4;
  uint32 total_song_count = 5;
  string total_duration = 6;
  EmbeddedArtist artist = 7;

  repeated AlbumTrack album_tracks = 8;
}

message Track {
  string video_id = 1;
  string title = 2;
  string thumbnail = 3;
  uint64 duration = 4;

  repeated EmbeddedArtist artists = 5;
  optional bool is_explicit = 6;
  optional EmbeddedAlbum album = 7;
}

// SearchArtist is the message returned when you search for artists.
message SearchArtist {
  string browse_id = 1;
  string title = 2;
  string thumbnail = 3;
  string audience = 4;
}

// Artist is the message returned when you get an artist's details.
message Artist {
  message TopSongTrack {
    string video_id = 1;
    string title = 2;
    string thumbnail = 3;
    string play_count = 4;

    optional bool is_explicit = 5;
    optional EmbeddedAlbum album = 6;
  }
  message ArtistAlbum {
    string album_id = 1;
    string title = 2;
    string thumbnail = 3;
    string release_date = 4;
    AlbumType album_type = 5;
  }
  string browse_id = 1;
  string title = 2;
  string thumbnail = 3;
  string description = 4;
  string audience = 5;

  repeated TopSongTrack top_songs = 6;
  repeated ArtistAlbum albums = 7;
  repeated ArtistAlbum singles_and_eps = 8;
}

message SearchAlbum {
  string album_id = 1;
  string title = 2;
  string thumbnail = 3;
  string release_date = 4;
  AlbumType album_type = 5;
  EmbeddedArtist artist = 6;
}

message FollowedArtist {
  string follow_id = 1;
  string browse_id = 2;
  string follower_email = 3;
  string name = 4;
  string thumbnail = 5;
}

message ThemeColor {
  uint32 r = 1;
  uint32 g = 2;
  uint32 b = 3;
}

message Lyric {
  string text = 1;
  int32 start_ms = 2;
  int32 dur_ms = 3;
}
