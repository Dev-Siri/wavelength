syntax = "proto3";
package music;

option go_package = "wavelength/server/proto/music;musicpb";

import "proto/common.proto";

service MusicService {
  rpc LikeTrack(LikeTrackRequest) returns (LikeTrackResponse);
  rpc IsTrackLiked(IsTrackLikedRequest) returns (IsTrackLikedResponse);
  rpc GetLikedTrackCount(GetLikedTrackCountRequest) returns (GetLikedTrackCountResponse);
  rpc GetLikedTracksLength(GetLikedTracksLengthRequest) returns (GetLikedTracksLengthResponse);
  rpc GetLikedTracks(GetLikedTracksRequest) returns (GetLikedTracksResponse);
  rpc GetMusicSearchSuggestions(GetMusicSearchSuggestionsRequest) returns (GetMusicSearchSuggestionsResponse);
}

message LikeTrackRequest {
  string author = 1;
  string thumbnail = 2;
  string duration = 3;
  bool is_explicit = 4;
  string title = 5;
  common.VideoType video_type = 7;
  string liker_email = 9;
  string video_id = 10;
}

message LikeTrackResponse {
  enum LikeType {
    UNLIKE = 0;
    LIKE = 1;
  }
  LikeType like_type = 1;
}

message GetMusicSearchSuggestionsRequest {
  string query = 1;
}

message GetMusicSearchSuggestionsResponse {

}

message IsTrackLikedRequest {
  string liker_email = 1;
  string video_id = 2;
}

message IsTrackLikedResponse {
  bool is_liked = 1;
}

message GetLikedTrackCountRequest {
  string liker_email = 1;
}

message GetLikedTrackCountResponse {
  uint32 like_count = 1; 
}

message GetLikedTracksLengthRequest {
  string liker_email = 1;
}

message GetLikedTracksLengthResponse {
  common.TracksLength liked_tracks_length = 1;
}

message GetLikedTracksRequest {
  string liker_email = 1;
}

message GetLikedTracksResponse {
  repeated common.LikedTrack liked_tracks = 1;
}
